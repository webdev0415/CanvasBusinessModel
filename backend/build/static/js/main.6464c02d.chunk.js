(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{213:function(e,n,t){e.exports=t(417)},269:function(e,n){},309:function(e,n){},311:function(e,n){},325:function(e,n){},327:function(e,n){},355:function(e,n){},357:function(e,n){},358:function(e,n){},364:function(e,n){},366:function(e,n){},384:function(e,n){},386:function(e,n){},398:function(e,n){},401:function(e,n){},417:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(21),c=t.n(o),i=(t(218),t(219),t(46)),l=t(12),u=t(209),s=t(16),d=Object(s.b)((function(e){return{auth:e.auth}}))((function(e){var n=e.component,t=e.auth,a=Object(u.a)(e,["component","auth"]);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return!0===t.isAuthenticated?r.a.createElement(n,e):r.a.createElement(l.a,{to:"/login"})}}))})),f=t(3),p=t(7),m=t(2),b=t(205),g=t.n(b),h=t(206),x=t.n(h),v=t(37),E=t(11),O=t(436),j=t(22),y=t.n(j),w=t(17),k=t.n(w),C=t(33),S=t(18),_=t.n(S),A="http://localhost:8080",R=t(40),N=function(e){e?_.a.defaults.headers.common.Authorization=e:delete _.a.defaults.headers.common.Authorization},z=t(198),D=t(36),L=t(199),P=t.n(L),T=t(200),I=t(27),U=t(201),H={canvas:[],cur_canvas_id:0,socket:t.n(U)()("".concat(A))};var M=t(22),V={user:[],isAuthenticated:!1,message:""};var F=Object(D.combineReducers)({canvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CREATE_CANVAS":return e;case"READ_CANVAS":return Object(E.a)(Object(E.a)({},e),{},{canvas:n.payload});case"CUR_CANVAS_ID":return Object(E.a)(Object(E.a)({},e),{},{cur_canvas_id:n.payload});case"READ_PLACEHOLDER":return Object(E.a)(Object(E.a)({},e),{},{canvas_data:n.payload});case"CREATE_PLACEHOLDER":return Object(E.a)(Object(E.a)({},e),{},{canvas_data:[].concat(Object(I.a)(e.canvas_data),[n.payload])});case"SET_PLACEHOLDERS":return Object(E.a)(Object(E.a)({},e),{},{canvas_data:Object(I.a)(n.payload)});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SIGNUP_SUCCESS":return e;case"SET_CURRENT_USER":return Object(E.a)(Object(E.a)({},e),{},{isAuthenticated:!M(n.payload),user:n.payload});default:return e}}}),B=Object(D.createStore)(F,Object(T.composeWithDevTools)(Object(D.applyMiddleware)(z.a,P.a))),q=function(e){return function(n){_.a.post("".concat(A,"/apis/canvas/create/"),n).then((function(n){e({type:"CREATE_CANVAS",payload:n.data}),e({type:"SET_PLACEHOLDERS",payload:[]})})).catch((function(e){return console.log(e)}))}},W=function(e){return function(){_.a.post("".concat(A,"/apis/canvas/read_all/")).then((function(n){console.log("canvas = ",n.data),e({type:"READ_CANVAS",payload:n.data}),e({type:"CUR_CANVAS_ID",payload:n.data[0].id})})).catch((function(e){return console.log(e)}))}},X=function(e){return function(n){console.log("data = ",n),_.a.post("".concat(A,"/apis/canvas/read_data"),n).then((function(t){console.log("canvas data = ",t.data),t.data.forEach((function(e){e.isEditing=!1})),e({type:"CUR_CANVAS_ID",payload:n.id}),e({type:"READ_PLACEHOLDER",payload:t.data})})).catch((function(e){return console.log(e)}))}},G=function(e){return function(n){var t=B.getState();_.a.post("".concat(A,"/apis/canvas/update_data"),n).then((function(n){e({type:"SET_PLACEHOLDERS",payload:n.data}),t.canvas.socket.emit("reload_placeholders")})).catch((function(e){return console.log(e)}))}},K=function(e){return function(n){_.a.post("".concat(A,"/apis/canvas/delete_data"),n).then((function(n){e({type:"SET_PLACEHOLDERS",payload:n.data})})).catch((function(e){return console.log(e)}))}},Y=function(e){return function(n){console.log("set cur canvas id = ",n),e({type:"CUR_CANVAS_ID",payload:n})}},J=function(e){return function(n){console.log("*** canvas data = ",n),_.a.post("".concat(A,"/apis/canvas/create_placeholder/"),n).then((function(n){e({type:"CREATE_PLACEHOLDER",payload:n.data})})).catch((function(e){return console.log(e)}))}},Q=function(e){return function(){var n=Object(C.a)(k.a.mark((function n(t){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("action call",t),n.next=3,_.a.post("".concat(A,"/apis/registration/"),t).then((function(n){201===n.status?e({type:"SIGNUP_SUCCESS",payload:n.data}):Promise.reject('Can"t communicate with REST API server ('.concat(n.statusText,")"))})).catch((function(e){return console.log(e)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Z=function(e){return function(){var n=Object(C.a)(k.a.mark((function n(t){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.post("".concat(A,"/apis/login/"),t).then((function(n){if(200===n.status){var t;n.data.token?t=n.data.token:n.data.key&&(t=n.data.key),localStorage.setItem("jwtToken",t),N(t);var a=Object(R.a)(t);e($(a))}else Promise.reject('Can"t communicate with REST API server ('.concat(n.statusText,")"))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},$=function(e){return{type:"SET_CURRENT_USER",payload:e}},ee=function(e){return function(){localStorage.removeItem("jwtToken"),N(!1),e($({}))}};function ne(){var e=Object(f.a)(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 40%;\n\ttransform: translate(-50%, -50%);\n\tbackground-color: white;\n\tborder: none;\n\tborder-radius: 5px;\n\tpadding: 2rem 4rem;\n"]);return ne=function(){return e},e}function te(){var e=Object(f.a)(["\n\tcolor: red;\n"]);return te=function(){return e},e}function ae(){var e=Object(f.a)(["\n\tpadding: 10px 20px;\n\tcolor: white;\n\tmargin: 20px;\n\n"]);return ae=function(){return e},e}function re(){var e=Object(f.a)(["\n  padding: 10px 20px;\n  color: white;\n  margin: 20px;\n"]);return re=function(){return e},e}function oe(){var e=Object(f.a)(["\n\tpadding: 10px 20px;\n\tcolor: white;\n"]);return oe=function(){return e},e}function ce(){var e=Object(f.a)(["\n\tpadding: 10px 20px;\n\tcolor: gray;\n\tborder: 1px solid gray;\n\tmargin-right: 1rem;\n"]);return ce=function(){return e},e}function ie(){var e=Object(f.a)(["\n"]);return ie=function(){return e},e}function le(){var e=Object(f.a)(["\n\n"]);return le=function(){return e},e}function ue(){var e=Object(f.a)(["\n\n"]);return ue=function(){return e},e}function se(){var e=Object(f.a)(["\n\tmargin-top: 1rem;\n"]);return se=function(){return e},e}function de(){var e=Object(f.a)(["\n\tmargin-top: 1rem;\n\tfloat: right;\n"]);return de=function(){return e},e}function fe(){var e=Object(f.a)(["\n\n"]);return fe=function(){return e},e}var pe=m.a.div(fe()),me=m.a.div(de()),be=m.a.label(se()),ge=m.a.input(ue()),he=m.a.select(le()),xe=m.a.option(ie()),ve=m.a.button(ce()),Ee=m.a.button(oe()),Oe=m.a.button(re()),je=(m.a.button(ae()),m.a.span(te())),ye=m.a.div(ne()),we=Object(s.b)((function(e,n){return{open:n.open,setOpen:n.setOpen,history:n.history,socket:e.canvas.socket}}),(function(e){return{createCanvas:q(e)}}))((function(e){var n=e.socket,t=e.open,a=e.setOpen,o=e.history,c=e.createCanvas,i=r.a.useState({name:"",type:""}),l=Object(p.a)(i,2),u=l[0],s=l[1],d=r.a.useState({name:"",type:""}),f=Object(p.a)(d,2),m=f[0],b=f[1],g=function(){a(!1)},h=function(e){s(Object(E.a)(Object(E.a)({},u),{},Object(v.a)({},e.target.id,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{open:t,onClose:g,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(ye,null,r.a.createElement(pe,{className:"form-group"},r.a.createElement(be,null,"Name"),r.a.createElement(ge,{className:"form-control",id:"name",onChange:h}),r.a.createElement(je,null,m.name)),r.a.createElement(pe,{className:"form-group"},r.a.createElement(be,null,"Type"),r.a.createElement(he,{className:"form-control",id:"type",onChange:h},r.a.createElement(xe,null),r.a.createElement(xe,{value:"type1"},"Business Model")),r.a.createElement(je,null,m.type)),r.a.createElement(me,null,r.a.createElement(ve,{className:"btn btn-default",onClick:g},"Cancel"),r.a.createElement(Ee,{className:"btn btn-primary",onClick:function(e){console.log(),!u.name||y()(u.name)?b({name:"Please input name."}):!u.type||y()(u.type)?b({type:"Please select type."}):(console.log(u),console.log("---",o,typeof o),o.push("/canvas".concat(u.type,"/").concat(u.name)),n.emit("sendMessage","Message"),c(u))}},"Create")))))}));function ke(){var e=Object(f.a)(["\n  border: 1px solid gray;\n  padding: 20px;\n  width: 90%;\n  margin: 0 auto;\n"]);return ke=function(){return e},e}function Ce(){var e=Object(f.a)(["\n"]);return Ce=function(){return e},e}var Se=m.a.h1(Ce()),_e=m.a.div(ke()),Ae=Object(s.b)((function(e,n){return{auth:e.auth,canvas:e.canvas,history:n.history,socket:e.canvas.socket}}),(function(e){return{logoutUser:ee(e),readCanvas:W(e),setCurCanvas:Y(e)}}))((function(e){var n=e.socket,t=e.auth,o=e.canvas,c=e.history,i=e.logoutUser,l=e.readCanvas,u=e.setCurCanvas,s=Object(a.useState)(!1),d=Object(p.a)(s,2),f=d[0],m=d[1];Object(a.useEffect)((function(){n.emit("sendMessage","Message"),n.on("refresh",(function(e){l()})),console.log("socket emit")}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,null,"Welcome ",t.user.username,"!"),r.a.createElement(Oe,{className:"btn btn-primary",onClick:function(e){m(!0)}},r.a.createElement(g.a,null)," Add new"),r.a.createElement(Oe,{className:"btn btn-danger",onClick:function(e){e.preventDefault(),i()}},r.a.createElement(x.a,null)," Log out"),r.a.createElement(we,{open:f,setOpen:m,history:c}),o.canvas.map((function(e){return r.a.createElement(_e,null,r.a.createElement("p",{key:e.id},r.a.createElement("a",{onClick:function(){console.log("clicked = ",e),u(e.id),c.push("/canvas".concat(e.type,"/").concat(e.name))}},e.name)))})))})),Re=t(433),Ne=t(434),ze=t(435);function De(){var e=Object(f.a)(["\n  font-size: 12px;\n  margin-left: 5px;\n"]);return De=function(){return e},e}function Le(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 5px;\n"]);return Le=function(){return e},e}function Pe(){var e=Object(f.a)(["\n  border: 1px solid #cdcdcd;\n  flex: 1;\n"]);return Pe=function(){return e},e}var Te=m.a.div(Pe()),Ie=m.a.div(Le()),Ue=m.a.a(De()),He=function(e){return r.a.createElement(Te,null,r.a.createElement(Ie,null,e.icon,r.a.createElement(Ue,null,e.title)),r.a.createElement("div",{style:{flex:1,width:"100%",height:"100%"}}))},Me=t(207),Ve=t.n(Me),Fe=t(431),Be=t(432);function qe(){var e=Object(f.a)(["\n  width: 80%;\n  align-self: center;\n  resize: none;\n"]);return qe=function(){return e},e}function We(){var e=Object(f.a)(["\n  padding: 10px;\n  font-size: 14px;\n  align-self: center;\n"]);return We=function(){return e},e}function Xe(){var e=Object(f.a)(["\n  display: flex;\n  flex: 1;\n  border: 1px solid #000;\n  width: 20px;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n"]);return Xe=function(){return e},e}function Ge(){var e=Object(f.a)(["\n  width: 110%;\n  height: 1px;\n  background-color: #cdcdcd;\n  margin-left: -5px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(f.a)(["\n  position: absolute;\n  top: -5px;\n  width: 120px;\n  height: 130px;\n  box-shadow: 1px 1px 5px 0px;\n  display: ",";\n  flex-direction: column;\n  flex: 1;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: flex-start;\n  background-color: white;\n  padding: 5px;\n  overflow: hidden;\n"]);return Ye=function(){return e},e}function Je(){var e=Object(f.a)(["\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  margin: 5px;\n  background-color: ",";\n"]);return Je=function(){return e},e}function Qe(){var e=Object(f.a)(["\n  position: absolute;\n  top: -5px;\n  width: 200px;\n  height: 30px;\n  box-shadow: 1px 1px 5px 0px;\n  display: ",";\n  flex-direction: row;\n  flex: 1;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(f.a)(["\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  background-color: ",";\n"]);return Ze=function(){return e},e}function $e(){var e=Object(f.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: ",";\n"]);return $e=function(){return e},e}function en(){var e=Object(f.a)(["\n  position: absolute;\n  top: -35px;\n  width: 100px;\n  height: 30px;\n  flex-direction: row;\n  display: ",";\n  border-radius: 5px;\n  background-color: white;\n  margin-bottom: 5px;\n  box-shadow: 1px 1px 5px 0px;\n"]);return en=function(){return e},e}function nn(){var e=Object(f.a)(["\n  background-color: transparent;\n  border: none;\n  width: 100%;\n  height: 50px;\n  overflow: hidden;\n  resize: none;\n  &:focus {\n    outline-color: #1196f1;\n    outline-width: 2px;\n  }\n"]);return nn=function(){return e},e}function tn(){var e=Object(f.a)(["\n  width: ","px;\n  height: ","px;\n  border-radius: 5px;\n  background-color: ",";\n  /* border: ","; */\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  display: flex;\n  &:focus {\n    outline-color: #1196f1;\n    outline-width: 2px;\n  }\n"]);return tn=function(){return e},e}var an=m.a.div(tn(),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.background}),(function(e){return e.border})),rn=m.a.textarea(nn()),on=m.a.div(en(),(function(e){return e.display})),cn=m.a.div($e(),(function(e){return e.last?"none":"1px solid #cdcdcd"})),ln=m.a.div(Ze(),(function(e){return e.color})),un=m.a.div(Qe(),(function(e){return e.display})),sn=m.a.a(Je(),(function(e){return e.color})),dn=m.a.div(Ye(),(function(e){return e.display})),fn=m.a.div(Ke()),pn=m.a.div(Ge()),mn=m.a.a(Xe(),(function(e){return e.active?"#18b1f6":"white"})),bn=m.a.a(We()),gn=m.a.textarea(qe()),hn=function(e){var n=Object(a.useState)(""),t=Object(p.a)(n,2),o=t[0],c=t[1],i=Object(a.useState)(e.color),l=Object(p.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)(e.isEditing),f=Object(p.a)(d,2),m=f[0],b=f[1],g=Object(a.useState)(!1),h=Object(p.a)(g,2),x=h[0],v=h[1],E=Object(a.useState)(!1),O=Object(p.a)(E,2),j=O[0],y=O[1],w=Object(a.useState)(!1),k=Object(p.a)(w,2),C=k[0],S=k[1],_=Object(a.useState)(e.data),A=Object(p.a)(_,2),R=A[0],N=A[1],z=Object(a.useState)({x:0,y:0}),D=Object(p.a)(z,2),L=D[0],P=D[1],T=Object(a.useState)(""),I=Object(p.a)(T,2),U=I[0],H=I[1],M=Object(a.useState)(!1),V=Object(p.a)(M,2),F=V[0],B=V[1],q=Object(a.useState)(!1),W=Object(p.a)(q,2),X=W[0],G=W[1],K=Object(a.useRef)(null),Y=Object(a.useRef)(null);Object(a.useEffect)((function(){m&&K.current.focus()}),[K,m]),Object(a.useEffect)((function(){Y.current.focus()}),[Y]);return r.a.createElement(Ve.a,{axis:"both",position:{x:e.x,y:e.y},grid:[25,25],scale:1,disabled:!!e.isLocked||!!m,bounds:"parent",onStart:function(n){c("1px solid #00ff00"),v(!0),P({x:n.screenX-e.x,y:n.screenY-e.y}),e.setOrder(e.id)},onDrag:function(){},onStop:function(n){c(""),e.onMove(e.id,n.x-L.x,n.y-L.y+70*e.id+203)}},r.a.createElement(an,{width:20*e.size,height:20*e.size,background:u,style:{zIndex:e.order,position:"relative"},border:o,tabIndex:-1,onClick:function(e){e.stopPropagation()},onContextMenu:function(n){console.log("right clicked"),e.isLocked?G(!0):S(!0),n.preventDefault(),n.stopPropagation()},onDoubleClick:function(n){if(n.stopPropagation(),!e.isLocked){b(!0);var t=setInterval((function(){K&&(K.current.focus(),clearInterval(t))}),100)}},onFocus:function(){},onBlur:function(){F||(v(!1),y(!1),S(!1),G(!1),""===R&&e.onDelete(e.id))}},r.a.createElement(on,{display:X&&e.isLocked?"flex":"none"},r.a.createElement(cn,null,r.a.createElement("p",{onClick:function(){e.setLocked(e.id,!1)},style:{color:"#1196f1"}},"Unlock"))),r.a.createElement(on,{display:x&&!m?"flex":"none"},r.a.createElement(cn,{onClick:function(){B(!0),y(!1),S(!1);var e=setInterval((function(){Y&&(Y.current.focus(),clearInterval(e))}),100)}},r.a.createElement(Fe.a,null)),r.a.createElement(cn,{onClick:function(){y(!0),B(!1),S(!1)}},r.a.createElement(ln,{color:u})),r.a.createElement(cn,{last:!0,onClick:function(){S(!0),B(!1),y(!1)}},r.a.createElement(Be.a,null))),r.a.createElement(un,{display:j?"flex":"none"},r.a.createElement(sn,{color:"#fbea70",onClick:function(){s("#fbea70"),y(!1),e.setColor(e.id,"#fbea70")}}),r.a.createElement(sn,{color:"#ffcd83",onClick:function(){s("#ffcd83"),y(!1),e.setColor(e.id,"#ffcd83")}}),r.a.createElement(sn,{color:"#ffb9ba",onClick:function(){s("#ffb9ba"),y(!1),e.setColor(e.id,"#ffb9ba")}}),r.a.createElement(sn,{color:"#fec9fa",onClick:function(){s("#fec9fa"),y(!1),e.setColor(e.id,"#fec9fa")}}),r.a.createElement(sn,{color:"#8fe7fe",onClick:function(){s("#8fe7fe"),y(!1),e.setColor(e.id,"#8fe7fe")}}),r.a.createElement(sn,{color:"#ccee9d",onClick:function(){s("#ccee9d"),y(!1),e.setColor(e.id,"#ccee9d")}}),r.a.createElement(sn,{color:"#d8dadc",onClick:function(){s("#d8dadc"),y(!1),e.setColor(e.id,"#d8dadc")}})),r.a.createElement(dn,{display:C?"flex":"none"},r.a.createElement(fn,null,r.a.createElement(mn,{active:1===e.size,onClick:function(){e.setSize(e.id,1),S(!1)}},"XS"),r.a.createElement(mn,{active:2===e.size,onClick:function(){e.setSize(e.id,2),S(!1)}},"S"),r.a.createElement(mn,{active:3===e.size,onClick:function(){e.setSize(e.id,3),S(!1)}},"M"),r.a.createElement(mn,{active:4===e.size,onClick:function(){e.setSize(e.id,4),S(!1)}},"L"),r.a.createElement(mn,{active:5===e.size,onClick:function(){e.setSize(e.id,5),S(!1)}},"XL")),r.a.createElement(pn,null),r.a.createElement(fn,{onClick:function(){e.setLocked(e.id,!0),v(!1),S(!1)}},r.a.createElement("span",{style:{color:"#1196f1"}},"Lock")),r.a.createElement(fn,{onClick:function(n){e.onDuplicate(e.x,e.y+90,R,!1,e.order+1),v(!1),S(!1)}},r.a.createElement("span",{style:{color:"#1196f1"}},"Duplicate")),r.a.createElement(pn,null),r.a.createElement(fn,{onClick:function(){e.onDelete(e.id),v(!1),S(!1)}},r.a.createElement("span",{style:{color:"#ff3440"}},"Delete"))),r.a.createElement(dn,{onBlur:function(){B(!1)},display:F?"flex":"none"},r.a.createElement(bn,null,R),r.a.createElement(gn,{ref:Y,onBlur:function(){B(!1)},defaultValue:U,onChange:function(e){return H(e.target.value)}}),r.a.createElement("button",{style:{alignSelf:"center",marginTop:3},onClick:function(){return B(!1)}},"OK")),m?r.a.createElement(rn,{ref:K,defaultValue:R,onChange:function(e){N(e.target.value)},onBlur:function(){e.setData(e.id,R),b(!1)}}):r.a.createElement("span",null,R)))};function xn(){var e=Object(f.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return xn=function(){return e},e}function vn(){var e=Object(f.a)(["\n  display: flex;\n  flex: ",";\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n"]);return vn=function(){return e},e}function En(){var e=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  width: 120vh;\n  height: 90vh;\n  position: relative;\n  margin: 5rem;\n"]);return En=function(){return e},e}var On=m.a.div(En()),jn=m.a.div(vn(),(function(e){return e.rows?e.rows:1})),yn=m.a.div(xn()),wn={largeIcon:{width:15,height:15}},kn=Object(s.b)((function(e,n){return{canvas_data:e.canvas.canvas_data,cur_canvas_id:e.canvas.cur_canvas_id,socket:e.canvas.socket}}),(function(e){return{createPlaceholder:J(e),readCurCanvasData:X(e),setPlaceholders:G(e),deletePlaceholder:K(e)}}))((function(e){var n=e.socket,t=e.canvas_data,o=e.cur_canvas_id,c=e.readCurCanvasData,i=e.createPlaceholder,l=e.setPlaceholders,u=e.deletePlaceholder,s=Object(a.useState)(1),d=Object(p.a)(s,2),f=d[0],m=d[1],b=Object(a.useState)(),g=Object(p.a)(b,2),h=g[0],x=g[1],v=Object(a.useState)(-1),E=Object(p.a)(v,2),O=E[0],j=E[1],y=Object(a.useRef)(null),w=function(){var e=Object(C.a)(k.a.mark((function e(n,a){var r,c,l,u=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:"",!(u.length>3&&void 0!==u[3])||u[3],console.log("stickers = ",t),c=Object(I.a)(t),m(f+1),l=0,c.forEach((function(e){e.order&&l<e.order&&(l=e.order)})),j(t.length),console.log("*** cur_canvas_id = ",o),e.next=11,i({canvas_id:o,coordinate_x:n,coordinate_y:a-10*(t.length-1),name:r,color:"#fbea70",size:3,lock:!1,isEditing:!0,order:l+1});case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),S=function(e){var n=Object(I.a)(t);console.log("stickers = ",n);var a=0;n.forEach((function(e){e.order&&a<e.order&&(a=e.order)})),console.log("maxOrder = ",a),n[e].order=a+1,l({data:n,id:o})},_=function(e){u({data:t[e],id:o})},A=function(e,n){var a=Object(I.a)(t);a[e].name=n,l({data:a,id:o})},R=function(e,n){var a=Object(I.a)(t);a[e].color=n,l({data:a,id:o})},N=function(e,n){var a=Object(I.a)(t);a[e].size=n,l({data:a,id:o})},z=function(e,n){var a=Object(I.a)(t);a[e].lock=n,l({data:a,id:o})},D=function(e,n,a){var r=Object(I.a)(t),c=y.current.offsetWidth,i=y.current.offsetHeight;r[e].coordinate_x=Math.min(Math.max(0,n),c-80),r[e].coordinate_y=Math.min(Math.max(100,a),i+20),l({data:r,id:o})};return Object(a.useEffect)((function(){console.log("cur_canvas_id = ",o),c({id:o}),n.on("reload",(function(){c({id:o})}))}),[]),Object(a.useEffect)((function(){console.log("parent = ",y.current.getBoundingClientRect());var e=y.current.getBoundingClientRect();x({x:e.x,y:e.y})}),[y]),r.a.createElement(On,{onDoubleClick:function(e){console.log("x, y = ",e.screenX,e.screenY),w(e.screenX-h.x,e.screenY-h.y)},ref:y},r.a.createElement(jn,{rows:2},r.a.createElement(He,{title:"Key Partnerships",icon:r.a.createElement(Re.a,{style:wn.largeIcon})}),r.a.createElement(yn,null,r.a.createElement(He,{title:"Key Activities",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})}),r.a.createElement(He,{title:"Key Resources",icon:r.a.createElement(ze.a,{style:wn.largeIcon})})),r.a.createElement(He,{title:"Value Propositions",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})}),r.a.createElement(yn,null,r.a.createElement(He,{title:"Customer Relationships",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})}),r.a.createElement(He,{title:"Channels",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})})),r.a.createElement(He,{title:"Customer Segments",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})})),r.a.createElement(jn,null,r.a.createElement(He,{title:"Cost Structure",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})}),r.a.createElement(He,{title:"Revenue Streams",icon:r.a.createElement(Ne.a,{style:wn.largeIcon})})),r.a.createElement("div",{style:{position:"absolute",left:0,top:0,width:"120vh",height:"90vh"}},t&&t.map((function(e,n){return r.a.createElement(hn,{x:e.coordinate_x,y:e.coordinate_y-70*(n+1)-30,data:e.name,setData:A,color:e.color,setColor:R,size:e.size,setSize:N,isLocked:e.lock,setLocked:z,isEditing:n==O,order:e.order,setOrder:S,offset:h,onMove:D,onDuplicate:w,onDelete:_,id:n})}))))})),Cn=t(76),Sn=t.n(Cn);function _n(){var e=Object(f.a)(["\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  height: calc(1.5em + .75rem + 2px);\n  margin: 0;\n  opacity: 0;\n  margin-bottom:20px;\n  background-color: #3e3e3e;\n"]);return _n=function(){return e},e}function An(){var e=Object(f.a)(["\n  height: 150px;\n  padding: 12px 12px;\n  font: 16px Arial, Helvetica, sans-serif;\n  color: #ccc;\n  outline: none;\n  border: none;\n  text-shadow: 1px 1px 0px #000;\n  box-shadow: inset 0px 2px 2px rgba(0,0,0,0.5);\n  background-color: #3e3e3e;\n  background: -webkit-gradient(linear, left top, left bottom, from(#545454), to(#3e3e3e));\n  background: -moz-linear-gradient(top, #545454, #3e3e3e);\n  border-radius: 5px;  \n  display: block;\n  width:100%;\n  overflow: auto;\n  vertical-align: top;  \n  \n  margin-top:10px;\n  margin-bottom:20px;\n  "]);return An=function(){return e},e}function Rn(){var e=Object(f.a)(["\n  flex: 0 0 50%;\n  max-width: 50%;\n  position: relative;\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  @media only screen and (max-width: 768px) {\n  /* For mobile phones: */\n    max-width: 100%;\n    flex: 0 0 100%;\n  }\n"]);return Rn=function(){return e},e}function Nn(){var e=Object(f.a)(["\n  flex: 0 0 50%;\n  max-width: 50%;\n  position: relative;\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n  @media only screen and (max-width: 768px) {\n  /* For mobile phones: */\n    max-width: 100%;\n    flex: 0 0 100%;\n  }\n"]);return Nn=function(){return e},e}function zn(){var e=Object(f.a)(["\n  flex: 0 0 100%;\n  max-width: 100%;\n  position: relative;\n  width: 100%;\n  padding-right: 15px;\n  padding-left: 15px;\n"]);return zn=function(){return e},e}function Dn(){var e=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -15px;\n  margin-left: -15px;"]);return Dn=function(){return e},e}function Ln(){var e=Object(f.a)(["\n  background-color: #3e3e3e;\n  font: 16px Arial, Helvetica, sans-serif;\n  color: #ccc;\n  outline: none;\n  border: none;\n  padding: 2px 12px;\n  height: 36px;\n  text-shadow: 1px 1px 0px #000;  \n  box-shadow: inset 0px 2px 2px rgba(0,0,0,0.5);  \n  border-radius: 5px;\n  width: 100%;\n  text-transform: none;\n  box-sizing: border-box;\n  align-items: center;\n  white-space: pre;\n  cursor: default;\n\n  margin-top: 10px;\n  margin-bottom:20px;\n  "]);return Ln=function(){return e},e}function Pn(){var e=Object(f.a)(["\n  width:90%;\n"]);return Pn=function(){return e},e}function Tn(){var e=Object(f.a)(["\n  padding: 1px 15px 2px 15px;\n  min-height: 25px;\n  color: white;\n  font-family: Arial;\n  font-size: 13px;\n  font-family: 'Titillium Web', Arial, Helvetica, sans-serif;\n  font-weight: 500;\n  text-decoration: none;\n  text-transform: uppercase;\n  border-radius: 50px;\n  text-shadow: 1px 1px 0px #1a355f;\n  box-shadow: 1px 1px 3px rgba(0,0,0,0.5), inset 0 0 16px rgba(0,0,0,0.5);\n  border: none;\n  border-top: 1px solid rgba(255,255,255,0.3);\n  border-bottom: 1px solid rgba(0,0,0,0.5);\n  background: #2c507a;\n  background: -moz-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2c507a), color-stop(50%, #395f89), color-stop(50%, #2c507a), color-stop(100%, #305681));\n  background: -webkit-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\n  background: -o-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\n  background: -ms-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\n  background: linear-gradient(to bottom, #2c507a 0%,#395f89 50%,#2c507a 50%,#305681 100%);\n  white-space: nowrap; \n  outline: none;\n  &:hover {\n    cursor: pointer;\n    background: #4d7cb3;\n  }\n"]);return Tn=function(){return e},e}function In(){var e=Object(f.a)(["\n  font: 16px Arial, Helvetica, sans-serif;\n  outline: none;\n  height: 36px;\n  border-radius: 5px;\n  font-size: 20px\n  padding-left: 3px;\n  display: block;\n  width:100%;\n  margin-top: 10px;\n  margin-bottom:20px;\n  transition: all 0.15s linear;\n  -webkit-appearance: textfield;\n  background-color: white;\n  -webkit-rtl-ordering: logical;\n  cursor: text;  \n\n\n"]);return In=function(){return e},e}function Un(){var e=Object(f.a)(["\n  font: 14px Arial, Helvetica, sans-serif;\n  font-weight: bold;\n  color: #999;  \n  font-size: 14px;\n  color: #4d4d4d;\n  cursor: pointer;\n  display: block;\n  font-weight: 500;\n  margin-bottom: 3px;\n  text-align: left;\n  "]);return Un=function(){return e},e}function Hn(){var e=Object(f.a)(["\n  background-color:black;\n  padding: 10px 10px 10px 10px;\n  background: url(/static/images/striped_bg.gif) repeat;\n"]);return Hn=function(){return e},e}function Mn(){var e=Object(f.a)(["\n    height: 50px;\n    padding-left: 5px;\n    font-size: 16px;\n    color: #fefefe;\n    font-weight: 700;\n    padding-left: 15px;\n    font-family: 'Titillium Web', Arial, Helvetica, sans-serif;\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    text-align:left;\n    background-color: #5cb85c;\n    letter-spacing: 1px;\n"]);return Mn=function(){return e},e}function Vn(){var e=Object(f.a)(["\n  color: red;\n  font-size: .8rem;\n  float: right;\n\n"]);return Vn=function(){return e},e}function Fn(){var e=Object(f.a)(["\n  border: 1px solid #5cb85c;\n  border-radius: 5px;\n  "]);return Fn=function(){return e},e}function Bn(){var e=Object(f.a)(["\n  background: transparent url(/static/images/striped_bg.gif) repeat center top;\n  background-size: cover;\n  border: 1px solid;\n  height: 0;\n  padding-bottom: 60%;\n  overflow: auto;\n"]);return Bn=function(){return e},e}m.a.div(Bn());var qn=m.a.div(Fn()),Wn=m.a.span(Vn()),Xn=m.a.div(Mn()),Gn=m.a.div(Hn()),Kn=m.a.div(Un()),Yn=m.a.input(In()),Jn=(m.a.button(Tn()),m.a.div(Pn()),m.a.select.attrs({})(Ln()),m.a.div(Dn()),m.a.div(zn()),m.a.div(Nn()),m.a.div(Rn()),m.a.textarea(An()),m.a.input.attrs({type:"file"})(_n()),t(79)),Qn=t.n(Jn),Zn=(t(292),function(){return r.a.createElement(Qn.a,{style:{float:"right",marginLeft:"4px",lineHeight:"10px"},type:"Circles",color:"#00BFFF",height:15,width:15})});function $n(){var e=Object(f.a)(["\n\tmax-width: 400px;\n\tmargin: 3rem auto;\n"]);return $n=function(){return e},e}var et=m.a.div($n()),nt=Object(s.b)((function(e,n){return{auth:e.auth,history:n.history}}),(function(e){return{loginUser:Z(e)}}))((function(e){var n=e.auth,t=e.loginUser,a=e.history,o=r.a.useState(!1),c=Object(p.a)(o,2),i=c[0],l=(c[1],r.a.useState({})),u=Object(p.a)(l,2),s=u[0],d=u[1],f=r.a.useState({}),m=Object(p.a)(f,2),b=m[0],g=m[1];r.a.useEffect((function(){var e=localStorage.getItem("jwtToken");if(e){N(e);var n=Object(R.a)(e);B.dispatch($(n))}}),[]),r.a.useEffect((function(){n.isAuthenticated&&a.push("dashboard")}),[n.isAuthenticated]);var h=function(e){g(Object(E.a)(Object(E.a)({},b),{},Object(v.a)({},e.target.id,e.target.value)))},x=function(){var e=Object(C.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!b.username||y()(b.username)?d({email:"The field is required"}):!b.password||y()(b.password)?d({password:"The field is required"}):b.username&&!Sn()(b.username)?d({email:"No Validate E-mail"}):(console.log("loginParam",b),t(b));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(et,null,r.a.createElement(qn,null,r.a.createElement(Xn,{className:"card-header"},"Login"),r.a.createElement(Gn,null,r.a.createElement(Kn,null,"E-mail ",s.email&&r.a.createElement(Wn,null,s.email)),r.a.createElement(Yn,{type:"text",id:"username",className:"form-control",onChange:h}),r.a.createElement(Kn,null,"Password ",s.password&&r.a.createElement(Wn,null,s.password)),r.a.createElement(Yn,{type:"password",id:"password",className:"form-control",onChange:h}),r.a.createElement("p",null,r.a.createElement("a",{href:"/signup"},"Click here")," to Sign Up"),r.a.createElement("center",null,r.a.createElement(Ee,{type:"button",className:"btn btn-success",onClick:x},i?r.a.createElement(Zn,null):"Login")),r.a.createElement("a",{type:"button",href:"".concat(A,"/auth/google/sign"),className:"btn btn-outline-dark btn-block"},"Continue With Google"))))})),tt=t(77),at=t.n(tt);function rt(){var e=Object(f.a)(["\n\tmax-width: 400px;\n\tmargin: 3rem auto;\n"]);return rt=function(){return e},e}var ot=m.a.div(rt()),ct=Object(s.b)(null,(function(e){return{signupUser:Q(e)}}))((function(e){var n=e.signupUser,t=r.a.useState({}),a=Object(p.a)(t,2),o=a[0],c=a[1],i=r.a.useState({}),l=Object(p.a)(i,2),u=l[0],s=l[1],d=r.a.useState(!1),f=Object(p.a)(d,2),m=f[0],b=(f[1],function(e){c(Object(E.a)(Object(E.a)({},o),{},Object(v.a)({},e.target.id,e.target.value)))}),g=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!o.username||y()(o.username)?s({username:"The field is required"}):!o.email||y()(o.email)?s({email:"The field is required"}):o.email&&!Sn()(o.email)?s({email:"No Validate E-mail"}):!o.password1||y()(o.password1)?s({password1:"The field is required"}):!o.password2||y()(o.password2)?s({password2:"The field is required"}):o.password1!==o.password2?s({password2:"No match"}):(console.log("signupParam",o),n(o));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(ot,null,r.a.createElement(qn,null,r.a.createElement(Xn,{className:"card-header"},"Sign Up"),r.a.createElement(Gn,null,r.a.createElement(Kn,null,"Username ",u.username&&r.a.createElement(Wn,null,u.username)),r.a.createElement(Yn,{type:"text",id:"username",className:"form-control",onChange:b,error:u.username&&!0}),r.a.createElement(Kn,null,"E-mail ",u.email&&r.a.createElement(Wn,null,u.email)),r.a.createElement(Yn,{type:"email",id:"email",className:"form-control",onChange:b,error:u.email&&!0}),r.a.createElement(Kn,null,"Password ",u.password1&&r.a.createElement(Wn,null,u.password1)),r.a.createElement(Yn,{type:"password",id:"password1",className:"form-control",onChange:b,error:u.password1&&!0}),r.a.createElement(Kn,null,"Confirm Password ",u.password2&&r.a.createElement(Wn,null,u.password2)),r.a.createElement(Yn,{type:"password",id:"password2",className:"form-control",onChange:b,error:u.password2&&!0}),r.a.createElement("p",null,r.a.createElement("a",{href:"/login"},"Click here")," to Log In"),r.a.createElement("center",null,r.a.createElement(Ee,{type:"submit",className:"btn btn-success",onClick:g},m?r.a.createElement(Zn,null):"Sign Up")))))}));function it(){var e=Object(f.a)(["\n\n"]);return it=function(){return e},e}var lt=m.a.div(it()),ut=function(){var e=r.a.useState(!0),n=Object(p.a)(e,2),t=n[0],a=n[1],o=Object(l.g)().id;return console.log("id",o),r.a.useEffect((function(){console.log("effect call"),_.a.post("".concat(A,"/apis/register/confirm/").concat(o)).then((function(e){a(!1),tt.notify.show(e.data.msg)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,null),r.a.createElement(lt,null,t?r.a.createElement("span",{className:"spinner-border spinner-border-sm"}):r.a.createElement("div",null,r.a.createElement("p",null,"Your email is confirmed exactly."),r.a.createElement("p",null,"Go to ",r.a.createElement(i.b,{to:"/login"},"Log in.")))))},st=t(208),dt=t.n(st),ft=(t(307),function(e){return r.a.useEffect((function(){var n=localStorage.getItem("jwtToken");if(console.log("token",n),void 0===e.location.search||n){if(n){N(n);var t=Object(R.a)(n);console.log("decoded",t),B.dispatch($(t)),e.history.push("dashboard")}}else{var a=dt.a.parse(e.location.search);if(a.token){window.localStorage.setItem("jwtToken",a.token),N(a.token);var r=a.token,o=Object(R.a)(r);console.log("decoded",o),B.dispatch($(o)),e.history.push("dashboard")}}e.history.push("login")}),[]),console.log("props",e),r.a.createElement("div",null,"ahahha")});var pt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:ft}),r.a.createElement(l.b,{path:"/login",component:nt}),r.a.createElement(l.b,{path:"/signup",component:ct}),r.a.createElement(d,{path:"/dashboard",component:Ae}),r.a.createElement(d,{path:"/canvastype1/:name",component:kn}),r.a.createElement(l.b,{exact:!0,path:"/register/confirm/:id",component:ut}))))};c.a.render(r.a.createElement(s.a,{store:B},r.a.createElement(pt,null)),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.6464c02d.chunk.js.map