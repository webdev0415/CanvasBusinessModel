{"version":3,"sources":["components/PrivateRoute.js","config/index.js","utils/setAuthToken.js","store/reducer/canvas.reducer.js","store/reducer/auth.reducer.js","store/reducer/index.js","store/action/actiontypes.js","store/index.js","store/action/index.js","elements/Modal.js","components/Modal.js","pages/Dashboard.js","components/container/styles.js","components/container/index.js","components/sticker/styles.js","components/sticker/index.js","pages/CanvasBusinessModel.js","elements/Form.js","components/SpinnerLoader.js","pages/Signin.js","pages/Signup.js","pages/EmailConfirm.js","pages/LandingPage.js","App.js","index.js"],"names":["connect","state","auth","Component","component","rest","render","props","isAuthenticated","to","SERVER_PORT","setAuthToken","token","axios","defaults","headers","common","initState","canvas","cur_canvas_id","socket","io","isEmpty","require","user","message","combineReducers","action","type","payload","canvas_data","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","logger","createCanvas","dispatch","data","post","then","res","catch","err","console","log","readCanvas","id","readCurCanvasData","forEach","item","isEditing","setPlaceholders","getState","emit","deletePlaceholder","setCurCanvas","createPlaceholder","signupUser","postData","a","status","Promise","reject","statusText","loginUser","loginData","key","localStorage","setItem","decoded","jwt_decode","setCurrentUser","logoutUser","removeItem","FromGroup","styled","div","BtnSection","Label","label","Input","input","Select","select","Option","option","CancelBtn","button","CreateBtn","AddBtn","ErrSpan","span","ModelContent","ownProps","open","setOpen","history","React","useState","name","formVal","setFormVal","formErr","setFormErr","handleClose","handleChange","e","target","value","Modal","onClose","aria-labelledby","aria-describedby","className","onChange","onClick","push","WelcomeMsg","h1","CanvasItem","useEffect","on","username","preventDefault","map","Container","HeaderContainer","HeaderText","MyComponent","icon","title","style","flex","width","height","background","border","TextInput","textarea","MenuBar","display","MenuItem","last","ColorPicker","color","ColorPickerModalContainer","ColorItem","DetailContainer","DetailItem","Spliter","SizeItem","active","EditTitle","EditDescription","Sticker","setBorder","setBackColor","setEditing","showMenu","setShowMenu","showColorPicker","setShowColorPicker","showDetail","setShowDetail","content","setContent","x","y","offset","setOffset","description","setDescription","showEditDlg","setShowEditDlg","showUnlockMenu","setShowUnlockMenu","textRef","useRef","editRef","current","focus","axis","position","grid","scale","disabled","isLocked","bounds","onStart","screenX","screenY","setOrder","onDrag","onStop","onMove","size","zIndex","order","tabIndex","stopPropagation","onContextMenu","onDoubleClick","interval","setInterval","clearInterval","onFocus","onBlur","onDelete","setLocked","Edit","MoreHoriz","setColor","setSize","onDuplicate","ref","defaultValue","alignSelf","marginTop","event","setData","RowContainer","rows","ColumnContainer","styles","largeIcon","cnt","setCnt","curEditing","setCurEditing","parentRef","duplicate","tmp","maxOrder","length","canvas_id","coordinate_x","coordinate_y","lock","index","deleteItem","setLock","changePosition","offsetWidth","offsetHeight","Math","min","max","getBoundingClientRect","boundRect","Link","CheckCircle","BurstMode","left","top","CardForm","WarningSpan","CardHeader","CardBody","attrs","ButtonLoader","float","marginLeft","lineHeight","SignInWrapper","btnFlag","loginErrors","setLoginErrors","loginParam","setLoginParam","getItem","handleClick","email","password","isEmail","href","SignUpWrapper","signupParam","setSignupParam","signupErrors","setSignupErrors","password1","password2","error","ConfirmDiv","EmailConfirm","confirming","setConfirming","useParams","notify","show","msg","LandingPage","undefined","location","search","query","queryString","parse","window","App","exact","path","SignIn","SignUp","DashboardPage","CanvasBusinessModel","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6464c02d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","const funcS = () => {\r\n\tswitch(process.env.NODE_ENV) {\r\n\t\tcase 'production':\r\n\t\t\treturn \"http://localhost:8080\"\r\n\t\tcase 'development':\r\n\t\t\treturn \"http://localhost:8080\"\r\n\t\tdefault:\r\n\t\t\treturn \"\"\r\n\t}\r\n}\r\n// export SERVER_PORT;\r\nexport const SERVER_PORT = funcS();","import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // Apply authorization token to every request if logged in\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;","import * as actionTypes from \"../action/actiontypes\";\r\n\r\nimport io from 'socket.io-client';\r\nimport {SERVER_PORT} from \"../../config\";\r\n\r\nconst initState = {\r\n\tcanvas: [],\r\n\tcur_canvas_id: 0,\r\n\tsocket: io(`${SERVER_PORT}`)\r\n}\r\n\r\nexport default function CanvasReducer(state=initState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.CREATE_CANVAS:\r\n\t\t\treturn state;\r\n\t\tcase actionTypes.READ_CANVAS:\r\n\t\t\treturn {...state, canvas: action.payload};\r\n\t\tcase actionTypes.CUR_CANVAS_ID:\r\n\t\t\treturn {...state, cur_canvas_id: action.payload};\r\n\t\tcase actionTypes.READ_PLACEHOLDER:\r\n\t\t\treturn {...state, canvas_data: action.payload};\r\n\t\tcase actionTypes.CREATE_PLACEHOLDER:\r\n\t\t\treturn {...state, canvas_data: [...state.canvas_data, action.payload]}\r\n\t\tcase actionTypes.SET_PLACEHOLDERS:\r\n\t\t\treturn {...state, canvas_data: [...action.payload]};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import * as actionTypes from \"../action/actiontypes\";\r\nconst isEmpty = require(\"is-empty\");\r\n\r\nconst initState = {\r\n\tuser: [],\r\n\tisAuthenticated: false,\r\n\tmessage: ''\r\n}\r\n\r\nexport default function authReducer(state=initState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.SIGNUP_SUCCESS:\r\n\t\t\treturn state\r\n\t\tcase actionTypes.SET_CURRENT_USER:\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: !isEmpty(action.payload),\r\n\t\t\t\tuser: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import {combineReducers} from \"redux\";\r\nimport CanvasReducer from \"./canvas.reducer\";\r\nimport AuthReducer from \"./auth.reducer\"\r\n\r\nexport default combineReducers({\r\n\tcanvas: CanvasReducer,\r\n\tauth: AuthReducer,\r\n})","// canvas\r\nexport const CREATE_CANVAS = \"CREATE_CANVAS\";\r\nexport const READ_CANVAS = \"READ_CANVAS\";\r\nexport const CUR_CANVAS_ID = \"CUR_CANVAS_ID\";\r\nexport const READ_PLACEHOLDER = \"READ_PLACEHOLDER\";\r\nexport const CREATE_PLACEHOLDER = \"CREATE_PLACEHOLDER\";\r\nexport const SET_PLACEHOLDERS = \"SET_PLACEHOLDERS\";\r\n\r\n// auth\r\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import thunk from \"redux-thunk\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport logger from \"redux-logger\"\r\nimport { composeWithDevTools } from \"redux-devtools-extension\"\r\nimport rootReducer from \"./reducer\"\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk,logger)));\r\n\r\nexport default store;","import axios from \"axios\";\r\nimport {SERVER_PORT} from \"../../config\";\r\nimport * as actionTypes from \"./actiontypes\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"../../utils/setAuthToken\"\r\n\r\nimport store from '../index';\r\n\r\nexport const createCanvas = dispatch => (data) => {\r\n\taxios\r\n\t.post(`${SERVER_PORT}/apis/canvas/create/`, data)\r\n\t.then(res=>{\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.CREATE_CANVAS,\r\n\t\t\tpayload: res.data\r\n        })\r\n        dispatch({\r\n            type: actionTypes.SET_PLACEHOLDERS,\r\n            payload: []\r\n        })\r\n\t})\r\n\t.catch(err=> console.log(err))\r\n}\r\n\r\nexport const readCanvas = dispatch => () => {\r\n    axios\r\n\t.post(`${SERVER_PORT}/apis/canvas/read_all/`)\r\n\t.then(res=>{\r\n        console.log('canvas = ', res.data);\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.READ_CANVAS,\r\n\t\t\tpayload: res.data\r\n        });\r\n        dispatch({\r\n            type: actionTypes.CUR_CANVAS_ID,\r\n            payload: res.data[0].id\r\n        })\r\n\t})\r\n\t.catch(err=> console.log(err))\r\n}\r\n\r\nexport const readCurCanvasData = dispatch => (data) => {\r\n    console.log('data = ', data);\r\n    axios\r\n    .post(`${SERVER_PORT}/apis/canvas/read_data`, data)\r\n\t.then(res=>{\r\n        console.log('canvas data = ', res.data);\r\n        res.data.forEach(item => {\r\n            item.isEditing = false;\r\n        })\r\n        dispatch({\r\n            type: actionTypes.CUR_CANVAS_ID,\r\n            payload: data.id\r\n        })\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.READ_PLACEHOLDER,\r\n\t\t\tpayload: res.data\r\n        });\r\n\t})\r\n\t.catch(err=> console.log(err))\r\n}\r\n\r\nexport const setPlaceholders = dispatch => (data) => {\r\n    const state = store.getState();\r\n    axios\r\n    .post(`${SERVER_PORT}/apis/canvas/update_data`, data)\r\n    .then(res=>{\r\n        dispatch({\r\n            type: actionTypes.SET_PLACEHOLDERS,\r\n            payload: res.data\r\n        })\r\n        state.canvas.socket.emit(\"reload_placeholders\");\r\n    })\r\n    .catch(err=>console.log(err))\r\n    \r\n}\r\n\r\nexport const deletePlaceholder = dispatch => (data) => {\r\n    axios\r\n    .post(`${SERVER_PORT}/apis/canvas/delete_data`, data)\r\n    .then(res=>{\r\n        dispatch({\r\n            type: actionTypes.SET_PLACEHOLDERS,\r\n            payload: res.data\r\n        })\r\n    })\r\n    .catch(err=>console.log(err))\r\n}\r\n\r\nexport const setCurCanvas = dispatch => (data) => {\r\n    console.log('set cur canvas id = ', data);\r\n    dispatch({\r\n        type: actionTypes.CUR_CANVAS_ID,\r\n        payload: data\r\n    })\r\n}\r\n\r\nexport const createPlaceholder = dispatch => (data) => {\r\n    console.log('*** canvas data = ', data);\r\n    axios\r\n\t.post(`${SERVER_PORT}/apis/canvas/create_placeholder/`, data)\r\n\t.then(res=>{\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.CREATE_PLACEHOLDER,\r\n\t\t\tpayload: res.data\r\n\t\t})\r\n\t})\r\n\t.catch(err=> console.log(err))\r\n}\r\n\r\nexport const signupUser = dispatch => async (postData) => {\r\n        console.log(\"action call\", postData)\r\n        await axios\r\n        .post(`${SERVER_PORT}/apis/registration/`, postData)\r\n        .then(res=>{\r\n            res.status === 201\r\n\t        ? dispatch({type: actionTypes.SIGNUP_SUCCESS, payload:res.data})\r\n\t        : Promise.reject(`Can\"t communicate with REST API server (${res.statusText})`)\r\n        })\r\n        .catch(err=>console.log(err))\r\n\r\n}\r\nexport const loginUser = dispatch => async (loginData) => {\r\n\r\n        await axios\r\n        .post(`${SERVER_PORT}/apis/login/`, loginData)\r\n        .then(res=>{\r\n            if (res.status === 200) {\r\n                let token\r\n                if (res.data.token) {\r\n                    token = res.data.token\r\n                } else if (res.data.key) {\r\n                    token = res.data.key\r\n                }\r\n                localStorage.setItem(\"jwtToken\", token)\r\n                setAuthToken(token);\r\n                const decoded = jwt_decode(token)\r\n                dispatch(setCurrentUser(decoded))\r\n            } else {\r\n                Promise.reject(`Can\"t communicate with REST API server (${res.statusText})`)\r\n            }\r\n        })\r\n        .catch(err=> {\r\n            console.log(err)\r\n        })\r\n\r\n}\r\nexport const setCurrentUser = decoded=> {\r\n    return {\r\n            type: actionTypes.SET_CURRENT_USER,\r\n            payload: decoded\r\n        }    \r\n}\r\nexport const logoutUser = dispatch => () => {\r\n    localStorage.removeItem(\"jwtToken\");\r\n    setAuthToken(false);\r\n    dispatch(setCurrentUser({}));\r\n}","import styled from \"styled-components\";\r\n\r\nexport const FromGroup = styled.div`\r\n\r\n`\r\nexport const BtnSection = styled.div`\r\n\tmargin-top: 1rem;\r\n\tfloat: right;\r\n`\r\nexport const Label = styled.label`\r\n\tmargin-top: 1rem;\r\n`\r\nexport const Input = styled.input`\r\n\r\n`\r\nexport const Select = styled.select`\r\n\r\n`\r\nexport const Option = styled.option`\r\n`\r\nexport const CancelBtn = styled.button`\r\n\tpadding: 10px 20px;\r\n\tcolor: gray;\r\n\tborder: 1px solid gray;\r\n\tmargin-right: 1rem;\r\n`\r\nexport const CreateBtn = styled.button`\r\n\tpadding: 10px 20px;\r\n\tcolor: white;\r\n`\r\nexport const AddBtn = styled.button`\r\n  padding: 10px 20px;\r\n  color: white;\r\n  margin: 20px;\r\n`\r\nexport const LogoutBtn = styled.button`\r\n\tpadding: 10px 20px;\r\n\tcolor: white;\r\n\tmargin: 20px;\r\n\r\n`\r\nexport const ErrSpan = styled.span`\r\n\tcolor: red;\r\n`\r\nexport const ModelContent = styled.div`\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 40%;\r\n\ttransform: translate(-50%, -50%);\r\n\tbackground-color: white;\r\n\tborder: none;\r\n\tborder-radius: 5px;\r\n\tpadding: 2rem 4rem;\r\n`","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport styled from \"styled-components\";\r\nimport isEmpty from 'is-empty';\r\nimport {createCanvas} from \"../store/action\";\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport {ModelContent, FromGroup, Label, Input, ErrSpan, Select, BtnSection, CancelBtn, CreateBtn, Option} from \"../elements/Modal\";\r\n\r\nconst SimpleModal = ({socket, open, setOpen, history, createCanvas}) => {\r\n\tconst [formVal, setFormVal] = React.useState({\r\n\t\tname: \"\",\r\n\t\ttype: \"\"\r\n\t});\r\n\tconst [formErr, setFormErr] = React.useState({\r\n\t\tname: \"\",\r\n\t\ttype: \"\"\r\n\t})\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t}\r\n\tconst handleChange = e => {\r\n\t\tsetFormVal({\r\n\t\t\t...formVal,\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t}\r\n\tconst handleCreate = e => {\r\n\t\tconsole.log()\r\n\t\tif (!formVal.name || isEmpty(formVal.name)) {\r\n\t      setFormErr({\r\n\t        name: \"Please input name.\"\r\n\t      })\r\n\t    } else if (!formVal.type || isEmpty(formVal.type)) {\r\n\t    \tsetFormErr({\r\n\t    \t\ttype:\"Please select type.\"\r\n\t    \t})\r\n\t    } else {\r\n\t    \tconsole.log(formVal);\r\n\t    \tconsole.log(\"---\", history, typeof history)\r\n\t\t\thistory.push(`/canvas${formVal.type}/${formVal.name}`)\r\n\t\t\tsocket.emit('sendMessage', 'Message');\r\n\t    \tcreateCanvas(formVal);\r\n\t    }\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t<Modal\r\n\t        open={open}\t\r\n\t        onClose={handleClose}\r\n\t        aria-labelledby=\"simple-modal-title\"\r\n\t        aria-describedby=\"simple-modal-description\"\r\n\t      >\r\n\t    \t<ModelContent>\r\n\t    \t<FromGroup className=\"form-group\">\r\n\t    \t\t<Label>Name</Label>\r\n\t    \t\t<Input className=\"form-control\" id=\"name\" onChange={handleChange}/>\r\n\t    \t\t<ErrSpan>{formErr.name}</ErrSpan>\r\n\t    \t</FromGroup>\r\n\t    \t<FromGroup className=\"form-group\">\r\n\t    \t\t<Label>Type</Label>\r\n\t    \t\t<Select className=\"form-control\" id=\"type\" onChange={handleChange}>\r\n\t    \t\t\t<Option></Option>\r\n\t    \t\t\t<Option value=\"type1\">Business Model</Option>\r\n\t    \t\t</Select>\r\n\t    \t\t<ErrSpan>{formErr.type}</ErrSpan>\r\n\t    \t</FromGroup>\r\n\t    \t<BtnSection>\r\n\t\t    \t<CancelBtn className=\"btn btn-default\" onClick={handleClose}>Cancel</CancelBtn>\r\n\t\t    \t<CreateBtn className=\"btn btn-primary\" onClick={handleCreate}>Create</CreateBtn>\r\n\t    \t</BtnSection>\r\n\t    \t</ModelContent>\r\n\t    </Modal>\r\n\t\t</>\r\n\t\t)\r\n}\r\n\r\n\r\nSimpleModal.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  setOpen: PropTypes.func.isRequired,\r\n  createCanvas: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\topen: ownProps.open,\r\n\tsetOpen: ownProps.setOpen,\r\n\thistory: ownProps.history,\r\n\tsocket: state.canvas.socket\r\n})\r\nconst mapDispatchToProps = dispatch=>({\r\n\tcreateCanvas: createCanvas(dispatch)\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleModal);","import React, {useState, useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport SimpleModal from \"../components/Modal\";\r\nimport {connect} from \"react-redux\";\r\nimport {AddBtn} from \"../elements/Modal\"\r\nimport {logoutUser, readCanvas, setCurCanvas} from \"../store/action\"\r\n\r\n\r\n\r\nconst Dashboard = ({socket, auth, canvas, history, logoutUser, readCanvas, setCurCanvas}) => {\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tuseEffect(()=>{\r\n\t\t// console.log('canvas = ', canvas);\r\n\t\t// var socket = io(`${SERVER_PORT}`);\r\n\t\tsocket.emit('sendMessage', 'Message');\r\n\t\tsocket.on('refresh', (data)=>{\r\n\t\t\treadCanvas();\r\n\t\t})\r\n\t\tconsole.log('socket emit');\r\n\t}, []);\r\n\r\n\tconst handleClick = e => {\r\n\t\tsetOpen(true)\r\n\t}\r\n\tconst handleLogout = e => {\r\n\t\te.preventDefault()\r\n\t\tlogoutUser()\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<WelcomeMsg>Welcome {auth.user.username}!</WelcomeMsg>\r\n\t\t\t\r\n\t\t\t<AddBtn className=\"btn btn-primary\" onClick={handleClick}><AddIcon /> Add new</AddBtn>\r\n\t\t\t<AddBtn className=\"btn btn-danger\" onClick={handleLogout}><ExitToAppIcon /> Log out</AddBtn>\r\n\t\t\t<SimpleModal open={open} setOpen={setOpen} history={history} />\r\n\t\t\t{\r\n\t\t\t\t// console.log('canvas = ', canvas)\r\n\t\t\t\tcanvas.canvas.map(item => {\r\n\t\t\t\t\treturn (<CanvasItem><p key={item.id}>\r\n\t\t\t\t\t\t<a onClick={()=>{\r\n\t\t\t\t\t\t\tconsole.log('clicked = ', item);\r\n\t\t\t\t\t\t\tsetCurCanvas(item.id);\r\n\t\t\t\t\t\t\thistory.push(`/canvas${item.type}/${item.name}`);\r\n\t\t\t\t\t\t}} >\r\n\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</p></CanvasItem>);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</>\r\n\t\t)\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\tauth: state.auth,\r\n\tcanvas: state.canvas,\r\n\thistory: ownProps.history,\r\n\tsocket: state.canvas.socket\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n  logoutUser: logoutUser(dispatch),\r\n  readCanvas: readCanvas(dispatch),\r\n  setCurCanvas: setCurCanvas(dispatch)\r\n})\r\nconst WelcomeMsg = styled.h1`\r\n`\r\nexport const CanvasItem = styled.div`\r\n  border: 1px solid gray;\r\n  padding: 20px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n`\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  border: 1px solid #cdcdcd;\r\n  flex: 1;\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 5px;\r\n`;\r\n\r\nexport const HeaderText = styled.a`\r\n  font-size: 12px;\r\n  margin-left: 5px;\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container, HeaderContainer, HeaderText } from \"./styles.js\";\r\n\r\nconst MyComponent = (props) => {\r\n  return (\r\n    <Container>\r\n      <HeaderContainer>\r\n        {props.icon}\r\n        <HeaderText>{props.title}</HeaderText>\r\n      </HeaderContainer>\r\n      <div style={{ flex: 1, width: \"100%\", height: \"100%\" }}></div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MyComponent;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: ${(props) => props.width}px;\r\n  height: ${(props) => props.height}px;\r\n  border-radius: 5px;\r\n  background-color: ${(props) => props.background};\r\n  /* border: ${(props) => props.border}; */\r\n  cursor: pointer;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  display: flex;\r\n  &:focus {\r\n    outline-color: #1196f1;\r\n    outline-width: 2px;\r\n  }\r\n`;\r\n\r\nexport const TextInput = styled.textarea`\r\n  background-color: transparent;\r\n  border: none;\r\n  width: 100%;\r\n  height: 50px;\r\n  overflow: hidden;\r\n  resize: none;\r\n  &:focus {\r\n    outline-color: #1196f1;\r\n    outline-width: 2px;\r\n  }\r\n`;\r\n\r\nexport const MenuBar = styled.div`\r\n  position: absolute;\r\n  top: -35px;\r\n  width: 100px;\r\n  height: 30px;\r\n  flex-direction: row;\r\n  display: ${(props) => props.display};\r\n  border-radius: 5px;\r\n  background-color: white;\r\n  margin-bottom: 5px;\r\n  box-shadow: 1px 1px 5px 0px;\r\n`;\r\n\r\nexport const MenuItem = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-right: ${(props) => (props.last ? \"none\" : \"1px solid #cdcdcd\")};\r\n`;\r\n\r\nexport const ColorPicker = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 20px;\r\n  background-color: ${(props) => props.color};\r\n`;\r\n\r\nexport const ColorPickerModalContainer = styled.div`\r\n  position: absolute;\r\n  top: -5px;\r\n  width: 200px;\r\n  height: 30px;\r\n  box-shadow: 1px 1px 5px 0px;\r\n  display: ${(props) => props.display};\r\n  flex-direction: row;\r\n  flex: 1;\r\n  border-radius: 5px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: white;\r\n`;\r\n\r\nexport const ColorItem = styled.a`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 20px;\r\n  margin: 5px;\r\n  background-color: ${(props) => props.color};\r\n`;\r\n\r\nexport const DetailContainer = styled.div`\r\n  position: absolute;\r\n  top: -5px;\r\n  width: 120px;\r\n  height: 130px;\r\n  box-shadow: 1px 1px 5px 0px;\r\n  display: ${(props) => props.display};\r\n  flex-direction: column;\r\n  flex: 1;\r\n  border-radius: 5px;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  background-color: white;\r\n  padding: 5px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const DetailItem = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const Spliter = styled.div`\r\n  width: 110%;\r\n  height: 1px;\r\n  background-color: #cdcdcd;\r\n  margin-left: -5px;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const SizeItem = styled.a`\r\n  display: flex;\r\n  flex: 1;\r\n  border: 1px solid #000;\r\n  width: 20px;\r\n  text-align: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${(props) => (props.active ? \"#18b1f6\" : \"white\")};\r\n`;\r\n\r\nexport const EditTitle = styled.a`\r\n  padding: 10px;\r\n  font-size: 14px;\r\n  align-self: center;\r\n`;\r\n\r\nexport const EditDescription = styled.textarea`\r\n  width: 80%;\r\n  align-self: center;\r\n  resize: none;\r\n`;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport { Edit, MoreHoriz } from \"@material-ui/icons\";\r\n\r\nimport {\r\n  Container,\r\n  TextInput,\r\n  MenuBar,\r\n  MenuItem,\r\n  ColorPicker,\r\n  ColorPickerModalContainer,\r\n  ColorItem,\r\n  DetailContainer,\r\n  DetailItem,\r\n  Spliter,\r\n  SizeItem,\r\n  EditTitle,\r\n  EditDescription\r\n} from \"./styles\";\r\n\r\nconst Sticker = (props) => {\r\n  const [border, setBorder] = useState(\"\");\r\n  const [background, setBackColor] = useState(props.color);\r\n  const [isEditing, setEditing] = useState(props.isEditing);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [showColorPicker, setShowColorPicker] = useState(false);\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  // const [size, setSize] = useState(props.size);\r\n  // const [isLocked, setLocked] = useState(props.isLocked);\r\n  const [content, setContent] = useState(props.data);\r\n  const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n  const [description, setDescription] = useState(\"\");\r\n  const [showEditDlg, setShowEditDlg] = useState(false);\r\n  const [showUnlockMenu, setShowUnlockMenu] = useState(false);\r\n\r\n  const textRef = useRef(null);\r\n  const editRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isEditing) {\r\n      textRef.current.focus();\r\n    }\r\n  }, [textRef, isEditing]);\r\n  useEffect(() => {\r\n    editRef.current.focus();\r\n  }, [editRef]);\r\n\r\n  const handleStart = (e) => {\r\n    setBorder(\"1px solid #00ff00\");\r\n    setShowMenu(true);\r\n    setOffset({ x: e.screenX - props.x, y: e.screenY - props.y });\r\n    props.setOrder(props.id);\r\n  };\r\n  const handleDrag = () => {};\r\n  const handleStop = (e) => {\r\n    setBorder(\"\");\r\n    props.onMove(\r\n      props.id,\r\n      e.x - offset.x,\r\n      e.y - offset.y + props.id * 70 + 203\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Draggable\r\n      axis=\"both\"\r\n      position={{ x: props.x, y: props.y }}\r\n      grid={[25, 25]}\r\n      scale={1}\r\n      disabled={props.isLocked ? true : isEditing ? true : false}\r\n      bounds=\"parent\"\r\n      onStart={handleStart}\r\n      onDrag={handleDrag}\r\n      onStop={handleStop}\r\n    >\r\n      <Container\r\n        width={20 * props.size}\r\n        height={20 * props.size}\r\n        background={background}\r\n        style={{ zIndex: props.order, position: \"relative\" }}\r\n        border={border}\r\n        tabIndex={-1}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n        }}\r\n        onContextMenu={(e) => {\r\n          console.log(\"right clicked\");\r\n          if (props.isLocked) {\r\n            setShowUnlockMenu(true);\r\n          } else {\r\n            setShowDetail(true);\r\n          }\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n        }}\r\n        onDoubleClick={(e) => {\r\n          e.stopPropagation();\r\n          if (!props.isLocked) {\r\n            setEditing(true);\r\n            var interval = setInterval(() => {\r\n              if (textRef) {\r\n                textRef.current.focus();\r\n                clearInterval(interval);\r\n              }\r\n            }, 100);\r\n          }\r\n        }}\r\n        onFocus={() => {}}\r\n        onBlur={() => {\r\n          if (!showEditDlg) {\r\n            setShowMenu(false);\r\n            setShowColorPicker(false);\r\n            setShowDetail(false);\r\n            setShowUnlockMenu(false);\r\n            // setShowEditDlg(false);\r\n            if (content === \"\") {\r\n              props.onDelete(props.id);\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        <MenuBar display={showUnlockMenu && props.isLocked ? \"flex\" : \"none\"}>\r\n          <MenuItem>\r\n            <p\r\n              onClick={() => {\r\n                props.setLocked(props.id, false);\r\n              }}\r\n              style={{ color: \"#1196f1\" }}\r\n            >\r\n              Unlock\r\n            </p>\r\n          </MenuItem>\r\n        </MenuBar>\r\n        <MenuBar display={showMenu && !isEditing ? \"flex\" : \"none\"}>\r\n          <MenuItem\r\n            onClick={() => {\r\n              setShowEditDlg(true);\r\n              setShowColorPicker(false);\r\n              setShowDetail(false);\r\n              var interval = setInterval(() => {\r\n                if (editRef) {\r\n                  editRef.current.focus();\r\n                  clearInterval(interval);\r\n                }\r\n              }, 100);\r\n            }}\r\n          >\r\n            <Edit />\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={() => {\r\n              setShowColorPicker(true);\r\n              setShowEditDlg(false);\r\n              setShowDetail(false);\r\n            }}\r\n          >\r\n            <ColorPicker color={background} />\r\n          </MenuItem>\r\n          <MenuItem\r\n            last={true}\r\n            onClick={() => {\r\n              setShowDetail(true);\r\n              setShowEditDlg(false);\r\n              setShowColorPicker(false);\r\n            }}\r\n          >\r\n            <MoreHoriz />\r\n          </MenuItem>\r\n        </MenuBar>\r\n        <ColorPickerModalContainer display={showColorPicker ? \"flex\" : \"none\"}>\r\n          <ColorItem\r\n            color=\"#fbea70\"\r\n            onClick={() => {\r\n              setBackColor(\"#fbea70\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#fbea70');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#ffcd83\"\r\n            onClick={() => {\r\n              setBackColor(\"#ffcd83\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#ffcd83');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#ffb9ba\"\r\n            onClick={() => {\r\n              setBackColor(\"#ffb9ba\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#ffb9ba');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#fec9fa\"\r\n            onClick={() => {\r\n              setBackColor(\"#fec9fa\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#fec9fa');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#8fe7fe\"\r\n            onClick={() => {\r\n              setBackColor(\"#8fe7fe\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#8fe7fe');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#ccee9d\"\r\n            onClick={() => {\r\n              setBackColor(\"#ccee9d\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#ccee9d');\r\n            }}\r\n          />\r\n          <ColorItem\r\n            color=\"#d8dadc\"\r\n            onClick={() => {\r\n              setBackColor(\"#d8dadc\");\r\n              setShowColorPicker(false);\r\n              props.setColor(props.id, '#d8dadc');\r\n            }}\r\n          />\r\n        </ColorPickerModalContainer>\r\n        <DetailContainer display={showDetail ? \"flex\" : \"none\"}>\r\n          <DetailItem>\r\n            <SizeItem\r\n              active={props.size === 1}\r\n              onClick={() => {\r\n                props.setSize(props.id, 1);\r\n                setShowDetail(false);\r\n              }}\r\n            >\r\n              XS\r\n            </SizeItem>\r\n            <SizeItem\r\n              active={props.size === 2}\r\n              onClick={() => {\r\n                props.setSize(props.id, 2);\r\n                setShowDetail(false);\r\n              }}\r\n            >\r\n              S\r\n            </SizeItem>\r\n            <SizeItem\r\n              active={props.size === 3}\r\n              onClick={() => {\r\n                props.setSize(props.id, 3);\r\n                setShowDetail(false);\r\n              }}\r\n            >\r\n              M\r\n            </SizeItem>\r\n            <SizeItem\r\n              active={props.size === 4}\r\n              onClick={() => {\r\n                props.setSize(props.id, 4);\r\n                setShowDetail(false);\r\n              }}\r\n            >\r\n              L\r\n            </SizeItem>\r\n            <SizeItem\r\n              active={props.size === 5}\r\n              onClick={() => {\r\n                props.setSize(props.id, 5);\r\n                setShowDetail(false);\r\n              }}\r\n            >\r\n              XL\r\n            </SizeItem>\r\n          </DetailItem>\r\n          <Spliter />\r\n          <DetailItem\r\n            onClick={() => {\r\n              props.setLocked(props.id, true);\r\n              setShowMenu(false);\r\n              setShowDetail(false);\r\n            }}\r\n          >\r\n            <span style={{ color: \"#1196f1\" }}>Lock</span>\r\n          </DetailItem>\r\n          <DetailItem\r\n            onClick={(e) => {\r\n              props.onDuplicate(\r\n                props.x,\r\n                props.y + 90,\r\n                content,\r\n                false,\r\n                props.order + 1\r\n              );\r\n              setShowMenu(false);\r\n              setShowDetail(false);\r\n            }}\r\n          >\r\n            <span style={{ color: \"#1196f1\" }}>Duplicate</span>\r\n          </DetailItem>\r\n          <Spliter />\r\n          <DetailItem\r\n            onClick={() => {\r\n              props.onDelete(props.id);\r\n              setShowMenu(false);\r\n              setShowDetail(false);\r\n            }}\r\n          >\r\n            <span style={{ color: \"#ff3440\" }}>Delete</span>\r\n          </DetailItem>\r\n        </DetailContainer>\r\n        <DetailContainer\r\n          onBlur={() => {\r\n            setShowEditDlg(false);\r\n          }}\r\n          display={showEditDlg ? \"flex\" : \"none\"}\r\n        >\r\n          <EditTitle>{content}</EditTitle>\r\n          <EditDescription\r\n            ref={editRef}\r\n            onBlur={() => {\r\n              setShowEditDlg(false);\r\n            }}\r\n            defaultValue={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n          <button\r\n            style={{ alignSelf: \"center\", marginTop: 3 }}\r\n            onClick={() => setShowEditDlg(false)}\r\n          >\r\n            OK\r\n          </button>\r\n        </DetailContainer>\r\n        {isEditing ? (\r\n          <TextInput\r\n            ref={textRef}\r\n            defaultValue={content}\r\n            onChange={(event) => {\r\n              setContent(event.target.value);\r\n            }}\r\n            onBlur={() => {\r\n              props.setData(props.id, content);\r\n              setEditing(false);\r\n            }}\r\n          />\r\n        ) : (\r\n          <span>{content}</span>\r\n        )}\r\n      </Container>\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nexport default Sticker;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { CheckCircle, Link, BurstMode } from \"@material-ui/icons\";\r\nimport MyComponent from \"../components/container\";\r\nimport Sticker from \"../components/sticker\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {createPlaceholder, deletePlaceholder, readCurCanvasData, setPlaceholders} from \"../store/action\"\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  width: 120vh;\r\n  height: 90vh;\r\n  position: relative;\r\n  margin: 5rem;\r\n`;\r\n\r\nconst RowContainer = styled.div`\r\n  display: flex;\r\n  flex: ${(props) => (props.rows ? props.rows : 1)};\r\n  flex-direction: row;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst ColumnContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst CanvasBusinessModel = ({\r\n  socket,\r\n  canvas_data, \r\n  cur_canvas_id, \r\n  readCurCanvasData, \r\n  createPlaceholder, \r\n  setPlaceholders, \r\n  deletePlaceholder\r\n}) => {\r\n  // const [stickers, setStickers] = useState(canvas_data);\r\n  const [cnt, setCnt] = useState(1);\r\n  const [offset, setOffset] = useState();\r\n  const [curEditing, setCurEditing] = useState(-1);\r\n  const parentRef = useRef(null);\r\n\r\n  const duplicate = async (x, y, data = \"\", isEditing = true) => {\r\n    console.log('stickers = ', canvas_data);\r\n    var tmp = [...canvas_data];\r\n    setCnt(cnt + 1);\r\n    var maxOrder = 0;\r\n    tmp.forEach((item) => {\r\n      if (item.order && maxOrder < item.order) {\r\n        maxOrder = item.order;\r\n      }\r\n    });\r\n\r\n    setCurEditing(canvas_data.length);\r\n\r\n    console.log('*** cur_canvas_id = ', cur_canvas_id);\r\n    await createPlaceholder({\r\n      canvas_id: cur_canvas_id,\r\n      coordinate_x: x,\r\n      coordinate_y: y - 10 * (canvas_data.length - 1),\r\n      name: data,\r\n      color: '#fbea70',\r\n      size: 3,\r\n      lock: false,\r\n      isEditing: true,\r\n      order: maxOrder + 1\r\n    });\r\n\r\n    // socket.emit('reload_placeholders');\r\n    // tmp.push({\r\n    //   x: x,\r\n    //   y: y - 10 * (stickers.length - 1),\r\n    //   data: data,\r\n    //   isEditing: isEditing,\r\n    //   order: maxOrder + 1\r\n    // });\r\n    // setStickers(tmp);\r\n  };\r\n\r\n  const setOrder = (index) => {\r\n    var tmp = [...canvas_data];\r\n    console.log(\"stickers = \", tmp);\r\n    var maxOrder = 0;\r\n    tmp.forEach((item) => {\r\n      if (item.order && maxOrder < item.order) {\r\n        maxOrder = item.order;\r\n      }\r\n    });\r\n    console.log(\"maxOrder = \", maxOrder);\r\n    tmp[index][\"order\"] = maxOrder + 1;\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n\r\n  };\r\n\r\n  const deleteItem = (index) => {\r\n    deletePlaceholder({data: canvas_data[index], id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  const setData = (index, data) => {\r\n    var tmp = [...canvas_data];\r\n    tmp[index][\"name\"] = data;\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  const setColor = (index, color) => {\r\n    var tmp = [...canvas_data];\r\n    tmp[index][\"color\"] = color;\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  const setSize = (index, size) => {\r\n    var tmp = [...canvas_data];\r\n    tmp[index][\"size\"] = size;\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  const setLock = (index, lock) => {\r\n    var tmp = [...canvas_data];\r\n    tmp[index][\"lock\"] = lock;\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  const changePosition = (index, x, y) => {\r\n    var tmp = [...canvas_data];\r\n    const width = parentRef.current.offsetWidth;\r\n    const height = parentRef.current.offsetHeight;\r\n    tmp[index].coordinate_x = Math.min(Math.max(0, x), width - 80);\r\n    tmp[index].coordinate_y = Math.min(Math.max(100, y), height + 20);\r\n    setPlaceholders({data: tmp, id: cur_canvas_id});\r\n    // socket.emit('reload_placeholders');\r\n  };\r\n\r\n  useEffect(()=>{\r\n    console.log('cur_canvas_id = ', cur_canvas_id);\r\n    readCurCanvasData({id: cur_canvas_id})\r\n    socket.on('reload', ()=>{\r\n      readCurCanvasData({id: cur_canvas_id});\r\n    })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"parent = \", parentRef.current.getBoundingClientRect());\r\n    const boundRect = parentRef.current.getBoundingClientRect();\r\n    setOffset({ x: boundRect.x, y: boundRect.y });\r\n    // socket.emit('reload_placeholders');\r\n  }, [parentRef]);\r\n\r\n  return (\r\n    <Container\r\n      onDoubleClick={(e) => {\r\n        console.log(\"x, y = \", e.screenX, e.screenY);\r\n        duplicate(e.screenX - offset.x, e.screenY - offset.y);\r\n      }}\r\n      ref={parentRef}\r\n    >\r\n      <RowContainer rows={2}>\r\n        <MyComponent\r\n          title=\"Key Partnerships\"\r\n          icon={<Link style={styles.largeIcon} />}\r\n        />\r\n        <ColumnContainer>\r\n          <MyComponent\r\n            title=\"Key Activities\"\r\n            icon={<CheckCircle style={styles.largeIcon} />}\r\n          />\r\n          <MyComponent\r\n            title=\"Key Resources\"\r\n            icon={<BurstMode style={styles.largeIcon} />}\r\n          />\r\n        </ColumnContainer>\r\n        <MyComponent\r\n          title=\"Value Propositions\"\r\n          icon={<CheckCircle style={styles.largeIcon} />}\r\n        />\r\n        <ColumnContainer>\r\n          <MyComponent\r\n            title=\"Customer Relationships\"\r\n            icon={<CheckCircle style={styles.largeIcon} />}\r\n          />\r\n          <MyComponent\r\n            title=\"Channels\"\r\n            icon={<CheckCircle style={styles.largeIcon} />}\r\n          />\r\n        </ColumnContainer>\r\n        <MyComponent\r\n          title=\"Customer Segments\"\r\n          icon={<CheckCircle style={styles.largeIcon} />}\r\n        />\r\n      </RowContainer>\r\n      <RowContainer>\r\n        <MyComponent\r\n          title=\"Cost Structure\"\r\n          icon={<CheckCircle style={styles.largeIcon} />}\r\n        />\r\n        <MyComponent\r\n          title=\"Revenue Streams\"\r\n          icon={<CheckCircle style={styles.largeIcon} />}\r\n        />\r\n      </RowContainer>\r\n\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          left: 0,\r\n          top: 0,\r\n          width: \"120vh\",\r\n          height: \"90vh\"\r\n        }}\r\n      >\r\n        {canvas_data && canvas_data.map((item, index) => {\r\n          return (\r\n            <Sticker\r\n              x={item.coordinate_x}\r\n              y={item.coordinate_y - (index + 1) * 70 - 30}\r\n              data={item.name}\r\n              setData={setData}\r\n              color={item.color}\r\n              setColor={setColor}\r\n              size={item.size}\r\n              setSize={setSize}\r\n              isLocked={item.lock}\r\n              setLocked={setLock}\r\n              isEditing={index == curEditing ? true : false}\r\n              order={item.order}\r\n              setOrder={setOrder}\r\n              offset={offset}\r\n              onMove={changePosition}\r\n              onDuplicate={duplicate}\r\n              onDelete={deleteItem}\r\n              id={index}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  largeIcon: {\r\n    width: 15,\r\n    height: 15\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  canvas_data: state.canvas.canvas_data,\r\n  cur_canvas_id: state.canvas.cur_canvas_id,\r\n  socket: state.canvas.socket\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n  createPlaceholder: createPlaceholder(dispatch),\r\n  readCurCanvasData: readCurCanvasData(dispatch),\r\n  setPlaceholders: setPlaceholders(dispatch),\r\n  deletePlaceholder: deletePlaceholder(dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CanvasBusinessModel);","import styled from 'styled-components';\r\n\r\n\r\n\r\n export const ImgContainer = styled.div`\r\n  background: transparent url(/static/images/striped_bg.gif) repeat center top;\r\n  background-size: cover;\r\n  border: 1px solid;\r\n  height: 0;\r\n  padding-bottom: 60%;\r\n  overflow: auto;\r\n`\r\n\r\nexport const CardForm = styled.div`\r\n  border: 1px solid #5cb85c;\r\n  border-radius: 5px;\r\n  `\r\nexport const WarningSpan = styled.span`\r\n  color: red;\r\n  font-size: .8rem;\r\n  float: right;\r\n\r\n`\r\nexport const CardHeader = styled.div`\r\n    height: 50px;\r\n    padding-left: 5px;\r\n    font-size: 16px;\r\n    color: #fefefe;\r\n    font-weight: 700;\r\n    padding-left: 15px;\r\n    font-family: 'Titillium Web', Arial, Helvetica, sans-serif;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    text-align:left;\r\n    background-color: #5cb85c;\r\n    letter-spacing: 1px;\r\n`\r\nexport const CardBody = styled.div`\r\n  background-color:black;\r\n  padding: 10px 10px 10px 10px;\r\n  background: url(/static/images/striped_bg.gif) repeat;\r\n`\r\n\r\nexport const Label = styled.div`\r\n  font: 14px Arial, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  color: #999;  \r\n  font-size: 14px;\r\n  color: #4d4d4d;\r\n  cursor: pointer;\r\n  display: block;\r\n  font-weight: 500;\r\n  margin-bottom: 3px;\r\n  text-align: left;\r\n  `\r\n\r\nexport const Input = styled.input`\r\n  font: 16px Arial, Helvetica, sans-serif;\r\n  outline: none;\r\n  height: 36px;\r\n  border-radius: 5px;\r\n  font-size: 20px\r\n  padding-left: 3px;\r\n  display: block;\r\n  width:100%;\r\n  margin-top: 10px;\r\n  margin-bottom:20px;\r\n  transition: all 0.15s linear;\r\n  -webkit-appearance: textfield;\r\n  background-color: white;\r\n  -webkit-rtl-ordering: logical;\r\n  cursor: text;  \r\n\r\n\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  padding: 1px 15px 2px 15px;\r\n  min-height: 25px;\r\n  color: white;\r\n  font-family: Arial;\r\n  font-size: 13px;\r\n  font-family: 'Titillium Web', Arial, Helvetica, sans-serif;\r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  border-radius: 50px;\r\n  text-shadow: 1px 1px 0px #1a355f;\r\n  box-shadow: 1px 1px 3px rgba(0,0,0,0.5), inset 0 0 16px rgba(0,0,0,0.5);\r\n  border: none;\r\n  border-top: 1px solid rgba(255,255,255,0.3);\r\n  border-bottom: 1px solid rgba(0,0,0,0.5);\r\n  background: #2c507a;\r\n  background: -moz-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\r\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2c507a), color-stop(50%, #395f89), color-stop(50%, #2c507a), color-stop(100%, #305681));\r\n  background: -webkit-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\r\n  background: -o-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\r\n  background: -ms-linear-gradient(top, #2c507a 0%, #395f89 50%, #2c507a 50%, #305681 100%);\r\n  background: linear-gradient(to bottom, #2c507a 0%,#395f89 50%,#2c507a 50%,#305681 100%);\r\n  white-space: nowrap; \r\n  outline: none;\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: #4d7cb3;\r\n  }\r\n`;\r\n\r\nexport const InnerContainer = styled.div`\r\n  width:90%;\r\n`\r\nexport const Select = styled.select.attrs({\r\n})`\r\n  background-color: #3e3e3e;\r\n  font: 16px Arial, Helvetica, sans-serif;\r\n  color: #ccc;\r\n  outline: none;\r\n  border: none;\r\n  padding: 2px 12px;\r\n  height: 36px;\r\n  text-shadow: 1px 1px 0px #000;  \r\n  box-shadow: inset 0px 2px 2px rgba(0,0,0,0.5);  \r\n  border-radius: 5px;\r\n  width: 100%;\r\n  text-transform: none;\r\n  box-sizing: border-box;\r\n  align-items: center;\r\n  white-space: pre;\r\n  cursor: default;\r\n\r\n  margin-top: 10px;\r\n  margin-bottom:20px;\r\n  `\r\n export const Row = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-right: -15px;\r\n  margin-left: -15px;`\r\nexport const FormContainer = styled.div`\r\n  flex: 0 0 100%;\r\n  max-width: 100%;\r\n  position: relative;\r\n  width: 100%;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n`\r\nexport const HalfColFirst = styled.div`\r\n  flex: 0 0 50%;\r\n  max-width: 50%;\r\n  position: relative;\r\n  width: 100%;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n  @media only screen and (max-width: 768px) {\r\n  /* For mobile phones: */\r\n    max-width: 100%;\r\n    flex: 0 0 100%;\r\n  }\r\n`\r\nexport const HalfColSecond = styled.div`\r\n  flex: 0 0 50%;\r\n  max-width: 50%;\r\n  position: relative;\r\n  width: 100%;\r\n  padding-right: 15px;\r\n  padding-left: 15px;\r\n  @media only screen and (max-width: 768px) {\r\n  /* For mobile phones: */\r\n    max-width: 100%;\r\n    flex: 0 0 100%;\r\n  }\r\n`\r\nexport const Textarea = styled.textarea`\r\n  height: 150px;\r\n  padding: 12px 12px;\r\n  font: 16px Arial, Helvetica, sans-serif;\r\n  color: #ccc;\r\n  outline: none;\r\n  border: none;\r\n  text-shadow: 1px 1px 0px #000;\r\n  box-shadow: inset 0px 2px 2px rgba(0,0,0,0.5);\r\n  background-color: #3e3e3e;\r\n  background: -webkit-gradient(linear, left top, left bottom, from(#545454), to(#3e3e3e));\r\n  background: -moz-linear-gradient(top, #545454, #3e3e3e);\r\n  border-radius: 5px;  \r\n  display: block;\r\n  width:100%;\r\n  overflow: auto;\r\n  vertical-align: top;  \r\n  \r\n  margin-top:10px;\r\n  margin-bottom:20px;\r\n  `\r\nexport const MultiUpload = styled.input.attrs({\r\n  type: 'file',\r\n  // className: 'custom-file-input form-control',\r\n})`\r\n  position: relative;\r\n  z-index: 2;\r\n  width: 100%;\r\n  height: calc(1.5em + .75rem + 2px);\r\n  margin: 0;\r\n  opacity: 0;\r\n  margin-bottom:20px;\r\n  background-color: #3e3e3e;\r\n`\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\n\r\nexport const ButtonLoader = () => {\r\n\treturn (\r\n\t\t<Loader style={{float: 'right', marginLeft: '4px',lineHeight: '10px'}} type=\"Circles\" color=\"#00BFFF\" height={15} width={15}/>\r\n\t\t)\r\n}\r\nexport const PageLoader = ({paddingTop}) => {\r\n\treturn (\r\n\t\t<Loader style={{marginTop: '3px', paddingTop: `${paddingTop}px`}} type=\"Circles\" color=\"#366fa5\" height={35} width={35}/>\r\n\t\t)\r\n}\r\nexport const OptionLoader = () => {\r\n\treturn (\r\n\t\t<Loader style={{float: 'right', marginLeft: '5px'}} type=\"Circles\" color=\"#366fa5\" height={25} width={25}/>\r\n\t\t)\r\n}","import React from 'react'\r\nimport isEmpty from 'is-empty'\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport {connect} from \"react-redux\"\r\nimport styled from \"styled-components\"\r\nimport {CardHeader, CardForm, CardBody, Label, Input, Button, InnerContainer, WarningSpan} from '../elements/Form'\r\nimport {CreateBtn} from \"../elements/Modal\";\r\nimport {ButtonLoader} from \"../components/SpinnerLoader\"\r\nimport {loginUser} from \"../store/action\"\r\nimport {SERVER_PORT} from \"../config\"\r\nimport setAuthToken from \"../utils/setAuthToken\"\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {setCurrentUser} from \"../store/action\";\r\nimport store from \"../store\"\r\n\r\nconst Signin = ({auth, loginUser, history}) => {\r\n\r\n\tconst [btnFlag, setBtnFlag] = React.useState(false)\r\n\tconst [loginErrors, setLoginErrors] = React.useState({})\r\n\tconst [loginParam, setLoginParam] = React.useState({})\r\n\r\n\tReact.useEffect(()=>{\r\n\t\tconst token = localStorage.getItem(\"jwtToken\")\r\n\t\tif (token) {\r\n\t\t\tsetAuthToken(token);\r\n\t\t\tconst decoded = jwt_decode(token);\r\n\t\t\tstore.dispatch(setCurrentUser(decoded))\r\n\t\t    // props.history.push(`dashboard`);\r\n\t\t}\r\n\t\t\r\n\t}, [])\r\n\tReact.useEffect(()=>{\r\n\t\tif (auth.isAuthenticated) {\r\n\t\t\thistory.push(\"dashboard\")\r\n\t\t}\r\n\t}, [auth.isAuthenticated])\r\n\r\n\r\n\tconst handleChange = e => { \r\n\t    setLoginParam({\r\n\t      ...loginParam,\r\n\t      [e.target.id]: e.target.value\r\n\t    })\r\n\t  }\r\n\r\n\tconst handleClick = async e => {\r\n\t    if (!loginParam.username || isEmpty(loginParam.username)) {\r\n\t      setLoginErrors({\r\n\t        email: \"The field is required\"\r\n\t      })\r\n\t    }else if (!loginParam.password || isEmpty(loginParam.password)) {\r\n\t      setLoginErrors({\r\n\t        password: \"The field is required\"\r\n\t      })\r\n\t    } else if (loginParam.username && !isEmail(loginParam.username)) {\r\n\t      setLoginErrors({\r\n\t        email: \"No Validate E-mail\"\r\n\t      })\r\n\t    } else {\r\n\t    \tconsole.log(\"loginParam\", loginParam)\r\n\t    \tloginUser(loginParam)\r\n\t      // setBtnFlag(true)\r\n\t      // await loginUser(loginParam, setAlert, setLoginErrors, lang, errVal, history, visit_url)\r\n\t      // setBtnFlag(false)\r\n\t    }\r\n\t    \r\n\t}\r\n\treturn (\r\n\t\t<SignInWrapper>\r\n                  <CardForm>\r\n                  <CardHeader className=\"card-header\">\r\n                    Login\r\n                  </CardHeader>\r\n                  <CardBody>\r\n                    <Label>E-mail {loginErrors.email && (<WarningSpan>{loginErrors.email}</WarningSpan>)}</Label>\r\n                    <Input type='text' id=\"username\" className=\"form-control\" onChange={handleChange}/>\r\n                    <Label>Password {loginErrors.password && (<WarningSpan>{loginErrors.password}</WarningSpan>)}</Label>\r\n                    <Input type='password' id=\"password\" className=\"form-control\" onChange={handleChange} />\r\n                    <p><a href=\"/signup\">Click here</a> to Sign Up</p>\r\n                    <center><CreateBtn type=\"button\" className=\"btn btn-success\" onClick={handleClick}>{\r\n                    btnFlag\r\n                    ? <ButtonLoader />\r\n                    : \"Login\"\r\n                  }\r\n                    </CreateBtn></center>\r\n                    <a type=\"button\" href={`${SERVER_PORT}/auth/google/sign`} className=\"btn btn-outline-dark btn-block\">Continue With Google</a>\r\n                  </CardBody>\r\n                </CardForm>\r\n\r\n        </SignInWrapper>\r\n\t\t)\r\n} \r\nconst SignInWrapper = styled.div`\r\n\tmax-width: 400px;\r\n\tmargin: 3rem auto;\r\n`\r\nconst mapStateToProps = (state, ownProps)=>({\r\n\tauth: state.auth,\r\n\thistory: ownProps.history,\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: loginUser(dispatch),\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);\r\n","import React from \"react\";\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport isEmpty from 'is-empty'\r\nimport {connect} from \"react-redux\";\r\nimport Notifications, {notify} from 'react-notify-toast';\r\nimport {CardHeader, CardForm, CardBody, Label, Input, Button, InnerContainer, Select, WarningSpan} from '../elements/Form'\r\nimport {ButtonLoader} from \"../components/SpinnerLoader\"\r\nimport styled from \"styled-components\"\r\nimport {CreateBtn} from \"../elements/Modal\";\r\nimport {signupUser} from \"../store/action\"\r\n\r\n\r\nconst Signup = ({signupUser}) => {\r\n\tconst [signupParam, setSignupParam] = React.useState({})\r\n\tconst [signupErrors, setSignupErrors] = React.useState({})\r\n\tconst [btnFlag, setBtnFlag] = React.useState(false)\r\n\t// React.useEffect(()=>{\r\n\t// \tif (auth.isAuthenticated) {\r\n\t// \t\thistory.push(\"/dashboard\")\r\n\t// \t}\r\n\t// },[])\r\n\tconst handleChange = e => {\r\n\t    setSignupParam({\r\n\t      ...signupParam,\r\n\t      [e.target.id]: e.target.value\r\n\t \t})\r\n\t}\r\n\r\n    const handleClick = async e => {\r\n\r\n\t    if (!signupParam.username || isEmpty(signupParam.username)) {\r\n\t      setSignupErrors({\r\n\t        username: \"The field is required\"\r\n\t      })\r\n\t    }else if (!signupParam.email || isEmpty(signupParam.email)) {\r\n\t      setSignupErrors({\r\n\t        email: \"The field is required\"\r\n\t      })\r\n\t    } else if (signupParam.email && !isEmail(signupParam.email)) {\r\n\t      setSignupErrors({\r\n\t        email: \"No Validate E-mail\"\r\n\t      })\r\n\t    } else if (!signupParam.password1 || isEmpty(signupParam.password1)) {\r\n\t      setSignupErrors({\r\n\t        password1: \"The field is required\"\r\n\t      })\r\n\t    } else if (!signupParam.password2 || isEmpty(signupParam.password2)) {\r\n\t      setSignupErrors({\r\n\t        password2: \"The field is required\"\r\n\t      })\r\n\t    } else if (signupParam.password1 !== signupParam.password2) {\r\n\t      setSignupErrors({\r\n\t        password2: \"No match\"\r\n\t      })\r\n\t    } else {\r\n\t    \tconsole.log(\"signupParam\", signupParam)\r\n\t    \tsignupUser(signupParam)\r\n\t      // setBtnFlag(true)\r\n\t      // await signupUser(signupParam, signProfileData, setAlert, setSignupErrors, errVal, lang)\r\n\t      // setBtnFlag(false)\r\n\t    }\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SignUpWrapper>\r\n              <CardForm>\r\n                <CardHeader className=\"card-header\">\r\n                  Sign Up\r\n                </CardHeader>\r\n                <CardBody>\r\n                    <Label>Username {signupErrors.username && (<WarningSpan>{signupErrors.username}</WarningSpan>)}</Label>\r\n                    <Input type='text' id=\"username\" className=\"form-control\" onChange={handleChange} error={signupErrors.username && true}/>\r\n\r\n                    <Label>E-mail {signupErrors.email && (<WarningSpan>{signupErrors.email}</WarningSpan>)}</Label>\r\n                    <Input type='email' id=\"email\" className=\"form-control\" onChange={handleChange} error={signupErrors.email && true} />\r\n\r\n                    <Label>Password {signupErrors.password1 && (<WarningSpan>{signupErrors.password1}</WarningSpan>)}</Label>\r\n                    <Input type='password' id=\"password1\" className=\"form-control\" onChange={handleChange} error={signupErrors.password1 && true} />\r\n\r\n                    <Label>Confirm Password {signupErrors.password2 && (<WarningSpan>{signupErrors.password2}</WarningSpan>)}</Label>\r\n                    <Input type='password' id=\"password2\" className=\"form-control\" onChange={handleChange} error={signupErrors.password2 && true} />\r\n                    <p><a href=\"/login\">Click here</a> to Log In</p>\r\n                  <center><CreateBtn type=\"submit\" className=\"btn btn-success\" onClick={handleClick}>{\r\n                    btnFlag\r\n                    ? <ButtonLoader />\r\n                    : \"Sign Up\"\r\n                  }</CreateBtn></center>\r\n\r\n                </CardBody>\r\n              </CardForm>\r\n        </SignUpWrapper>\r\n\t\t)\r\n  }\r\n\r\nconst SignUpWrapper = styled.div`\r\n\tmax-width: 400px;\r\n\tmargin: 3rem auto;\r\n`\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  signupUser: signupUser(dispatch),\r\n})\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React, {Component} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Notifications, {notify} from 'react-notify-toast'; \r\nimport axios from \"axios\";\r\nimport {SERVER_PORT} from \"../config\"\r\nimport styled from \"styled-components\";\r\nimport {connect} from \"react-redux\"\r\nimport {useParams} from \"react-router-dom\"\r\n\r\nconst EmailConfirm = () => {\r\n  const [confirming, setConfirming] = React.useState(true)\r\n  const {id} = useParams();\r\n  console.log(\"id\", id)\r\n  React.useEffect(()=>{\r\n    console.log(\"effect call\")\r\n      axios\r\n    .post(`${SERVER_PORT}/apis/register/confirm/${id}`)\r\n    .then(res=>{\r\n      setConfirming(false)\r\n      notify.show(res.data.msg)\r\n    })\r\n    .catch(err=> console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n          <Notifications />\r\n          <ConfirmDiv>\r\n            {confirming\r\n              ? <span className=\"spinner-border spinner-border-sm\"></span>\r\n\r\n              : <div>\r\n                <p>Your email is confirmed exactly.</p>\r\n                <p>Go to <Link to= \"/login\">Log in.</Link></p>\r\n                </div>\r\n            }\r\n          </ConfirmDiv>\r\n    </>\r\n    )\r\n}\r\nconst ConfirmDiv = styled.div`\r\n\r\n`\r\nexport default EmailConfirm;\r\n\r\n","import React from \"react\"\r\nimport queryString from \"query-string\"\r\nimport setAuthToken from \"../utils/setAuthToken\"\r\nimport jwt_decode from \"jwt-decode\";\r\nimport jwt from \"jsonwebtoken\"\r\nimport isEmpty from 'is-empty'\r\nimport store from \"../store\"\r\nimport {setCurrentUser} from \"../store/action\";\r\n\r\nconst LandingPage = props => {\r\n\tReact.useEffect(()=> {\r\n\t    const token = localStorage.getItem(\"jwtToken\")\r\n\t    console.log(\"token\", token)\r\n\t      if (props.location.search !== undefined && !token) {\r\n\t        const query = queryString.parse(props.location.search);\r\n\t        if (query.token) {\r\n\t          window.localStorage.setItem(\"jwtToken\", query.token);\r\n\t          setAuthToken(query.token);\r\n\t          let payload = query.token;\r\n\t          const decoded = jwt_decode(payload);\r\n\t          console.log(\"decoded\", decoded)\r\n\t          store.dispatch(setCurrentUser(decoded))\r\n\t          props.history.push(`dashboard`);\r\n\t        }\r\n\t      } else if (token) {\r\n\t      \tsetAuthToken(token);\r\n\t\t\tconst decoded = jwt_decode(token);\r\n\t\t\tconsole.log(\"decoded\", decoded)\r\n\t\t\tstore.dispatch(setCurrentUser(decoded))\r\n\t        props.history.push(`dashboard`);\r\n\t      } \r\n\t      props.history.push(\"login\")\r\n\r\n\t\t}, [])\r\n\tconsole.log(\"props\", props)\r\n\treturn(\r\n\t\t<div>\r\n\t\tahahha\r\n\t\t</div>\r\n\t\t)\r\n}\r\nexport default LandingPage","import React from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport PrivateRoute from \"./components/PrivateRoute\"\nimport DashboardPage from \"./pages/Dashboard\";\nimport CanvasBusinessModel from \"./pages/CanvasBusinessModel\";\nimport SignIn from \"./pages/Signin\";\nimport SignUp from \"./pages/Signup\";\nimport EmailConfirm from \"./pages/EmailConfirm\";\nimport LandingPage from \"./pages/LandingPage\"\n\nfunction App() {\n  return (\n    <>\n    \n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n      \t<Route path=\"/login\" component={SignIn} />\n        <Route path=\"/signup\" component={SignUp} />\n        <PrivateRoute path=\"/dashboard\" component={DashboardPage} />\n        <PrivateRoute path=\"/canvastype1/:name\" component={CanvasBusinessModel} />\n        <Route exact path = \"/register/confirm/:id\" component={EmailConfirm} />\n      </Switch>\n    </Router>\n    \n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min'\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\"\n\nReactDOM.render(\n  \t<Provider store={store}>\n\t\t<App/>\n\t</Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}